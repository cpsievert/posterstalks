<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<link href='http://fonts.googleapis.com/css?family=Nunito' rel='stylesheet' type='text/css'>
	<!--<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">-->

	<title>Reproducible ecology data with R</title>

	<meta name="description" content="Slides from BES ropensci talk">
	<meta name="author" content="Scott Chamberlain">
	<meta name="viewport" content="width=1024, user-scalable=no">
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">	
	<!-- Core and extension CSS files -->
	<link rel="stylesheet" href="core/deck.core.css">
	<link rel="stylesheet" href="extensions/goto/deck.goto.css">
	<link rel="stylesheet" href="extensions/menu/deck.menu.css">
	<link rel="stylesheet" href="extensions/navigation/deck.navigation.css">
	<link rel="stylesheet" href="extensions/status/deck.status.css">
	<link rel="stylesheet" href="extensions/hash/deck.hash.css">
	<link rel="stylesheet" href="themes/style/esa2012.css">
	<link rel="stylesheet" href="themes/style/common.css">
	<link rel="stylesheet" href="themes/transition/fade.css">
	<link rel="stylesheet" href="themes/style/knitr.css">
	<link rel="stylesheet" href="extensions/codemirror/deck.codemirror.css">
	<script src="modernizr.custom.js"></script>
</head>

<body class="deck-container">

<!--    ##############    slide delimiter  ##############    -->

	<section class="slide" id="intro">
		<div>
			<hgroup>
				<h1>Reproducible ecology data with R</h1>
				<br><br><br>
				<h3>Scott Chamberlain</h3>
				<h4><span style="color:#ae0000;">@recology_ & @ropensci</span></h4>
			</hgroup>
			<span style="color:#949fa2;">Shortcuts: </span>
			<ul class="bubbles desktop only">
	 			<li><b>M</b> = <img src="images/grid.png"</img></li>
				<li><b>G</b> = <img src="images/page.png"</img></li>
			</ul>	
			<br>
			</div>
	</section>

<!--    ##############    link to talk  ##############    -->
<section class="slide" id="link_to_slides">
	<div>
	<h1>Interact with the talk<br><a href="http://bit.ly/bestalk"  target="_blank">http://bit.ly/bestalk</a></h1>
	</div>
</section>

<!--    ##############    link to talk  ##############    -->
<section class="slide" id="usedtobe">
<br>
	<div>
	<h2>Data used to be like this...</h2>
		<img src="images/darwin_both.png">
		<p>Image credits: <a href="http://forums.canadiancontent.net/science-environment/79293-charles-darwins-hms-beagle-sail.html">boat</a> and <a href="http://doubtfulnews.com/2012/11/charles-darwin-has-strong-showing-in-georgia-election/">Darwin</a></p>
	</div>
</section>

<!--    ##############    slide delimiter  ##############    -->

<section class="slide" id="lotsofdata">
<br>
	<div>
		<table width="1000" border="1" cellspacing="100"> 
			<h2>...but now lots of accessible data on the interwebs</h2>
			<tr>
				<td><a href="http://data.nbn.org.uk/" target="_blank"><img src="images/nbn.png" width="100" height="100"></a></td> 
			</tr>
			<tr> 
				<th><a href="http://www.mendeley.com/" target="_blank"><img src="images/mendeley.png" width="100" height="100"></a></th>
				<th><a href="http://treebase.org/treebase-web/home.html" target="_blank"><img src="images/treebase2.png" width="100" height="100"></a></th>
				<th><a href="http://www.gbif.org/" target="_blank"><img src="images/gbif.png" width="100" height="100"></a></th>
				<th><a href="http://www.barcodinglife.com/" target="_blank"><img src="images/boldsystems.png" width="100" height="100"></a></th>
				<th><a href="http://flybase.org/" target="_blank"><img src="images/flybase.png" width="100" height="100"></a></th>
			</tr>
			<tr> 
				<td><a href="http://vertnet.org/index.php" target="_blank"><img src="images/vertnet.png" width="100" height="100"></a></td>
				<td><a href="http://www.fishnet2.net/" target="_blank"><img src="images/fishbase.png" width="100" height="100"></a></td>
				<td><a href="http://www.ncbi.nlm.nih.gov/" target="_blank"><img src="images/ncbi.png" width="100" height="100"></a></td>
				<td><a href="http://figshare.com/" target="_blank"><img src="images/figshare.png" width="100" height="100"></a></td>
				<th><a href="http://www.usanpn.org/" target="_blank"><img src="images/usanpn.png" width="100" height="100"></a></th>
			</tr> 
			<tr>
				<td><a href="http://datadryad.org/" target="_blank"><img src="images/dryad.png" width="100" height="100"></a></td>
				<td><a href="http://eol.org/" target="_blank"><img src="images/eol.png" width="100" height="100"></a></td>
				<td><a href="http://www.tropicos.org/" target="_blank"><img src="images/tropicos.png" width="100" height="100"></a></td>
				<td><a href="http://www.itis.gov/" target="_blank"><img src="images/itis.png" width="100" height="100"></a></td>
				<th><a href="http://www.biodiversitylibrary.org/" target="_blank"><img src="images/bhl.png" width="100" height="100"></a></th>
			</tr>
		</table>
	</div>	
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="howgetdata">
<br><br>
	<div>
		<h2>But how should we get data?</h2>
		<ul>
			<li><h2>Programatically</h2></li>
			<li><h2>Within a familiar environment to biologists</h2></li>
			<li><h2>Within one environment to: manipulate, visualize, analyze</h2></li>
		</ul>
	</div>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="rplusdata">
<br><br>
	<div>
	<h1>R <code>+</code> Data <code>=</code> smiles</h1>
	</div>	
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="gui_analysis_is_bad">
	<h2>The old way...</h2>
	<img src="images/oldway2.png">
</section>

<!--    ##############    slide delimiter  ##############    -->

<section class="slide" id="R_is_better">
	<h2>The new way...all in one...R in this case</h2>
<h3>Make an API call</h3>
<font size="2"><div class="chunk"><div class="rcode"><div class="source"><pre class="knitr R"><span class="functioncall">library</span>(RCurl); <span class="functioncall">library</span>(RJSONIO)
dat &lt;- <span class="functioncall">fromJSON</span>(<span class="functioncall">getURL</span>(<span class="string">"https://api.github.com/users/hadley/repos"</span>))
</pre></div></div></div></font>

<h3>Manipulate the data</h3> 
<font size="2"><div class="chunk"><div class="rcode"><div class="source"><pre class="knitr R"><span class="functioncall">library</span>(plyr); <span class="functioncall">library</span>(reshape2)
dat_melt &lt;- <span class="functioncall">melt</span>(<span class="functioncall">ldply</span>(dat, <span class="functioncall"><span class="keyword">function</span></span>(x) <span class="functioncall">as.data.frame</span>(x[<span class="functioncall">names</span>(x) %<span class="keyword">in</span>% <span class="functioncall">c</span>(<span class="string">"name"</span>, <span class="string">"watchers_count"</span>, 
    <span class="string">"forks"</span>, <span class="string">"open_issues"</span>)])))
</pre></div></div></div></font>

<h3>Run some statistical model</h3> 
<font size="2"><div class="chunk"><div class="rcode"><div class="source"><pre class="knitr R"><span class="functioncall">lm</span>(value ~ variable, data = dat_melt)
</pre></div></div></div></font>

<h3>Visualize results</h3> 
<font size="2"><div class="chunk"><div class="rcode"><div class="source"><pre class="knitr R"><span class="functioncall">library</span>(ggplot2)
<span class="functioncall">ggplot</span>(dat_melt, <span class="functioncall">aes</span>(name, value, colour = variable)) + <span class="functioncall">geom_point</span>() + <span class="functioncall">coord_flip</span>()
</pre></div></div></div></font>

<h3>Write the paper</h3> 
<font size="2"><div class="chunk"><div class="rcode"><div class="source"><pre class="knitr R"><span class="functioncall"># Introduction...</span>
</pre></div></div></div></font>
</section>


<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="workflow">
	<h1><em>Reproducible</em>,<br><br> <em>repeatable</em>,<br><br> <em>analytic workflow</em></h1>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="ropensci">
	<div>
	<br><br><br><br><br><br>
	<hgroup>
	<img src="images/ropensci.png">
	<center>

	<h2>
	<ul class="bubbles desktop only">
	    <li class="ss-social-circle ss-icon">
	      	<!--<a href="https://twitter.com/ropensci" style="color:#79cef7;">&#xF611</a>-->
	     	<a href="https://twitter.com/ropensci" target="_blank"><img src="images/Twitter.png" width="40" height="40"></a>
	    </li>

	    <li class="ss-social-circle ss-icon">
	      	<!--<a href="https://GitHub.com/ropensci" style="color: #485b63;">&#xF670;</a>-->
	      	<a href="https://GitHub.com/ropensci" target="_blank"><img src="images/github_icon.png" width="40" height="40"></a>
	    </li>

	    <li class="ss-social-circle ss-icon">
	    	<!--<a  href="http://gplus.to/ropensci"  style="color: #dc0026;">&#xF613;</a>-->
	    	<a href="http://gplus.to/ropensci" target="_blank"><img src="images/googleplus.png" width="40" height="40"></a>
	    </li>

	    <li class="ss-social-circle ss-icon">
	      	<!--<a href="mailto:info@ropensci.org" style="color:#25418a;">&#x2709;</a>-->
	      	<a href="mailto:info@ropensci.org" target="_blank"><img src="images/Contact.png" width="40" height="40"></a>
	    </li>
	</ul>
	</h2></center>
	</hgroup>
	</div>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="ropensci_team">

	<br>
	<div>
		<h3><i class="ss-users"> Development team</i></h3><br>
 	<table cellpadding=20 cellspacing=10>
 		<tr> 
 		<!-- Carl -->		
 		<td align="left" target="_blank"><img src="images/carl84x84.png"><center>Carl Boettiger</center>
 				<ul class="bubbles desktop only">
 			<!--<li class="ss-social-circle ss-icon"><a href="https://twitter.com/cboettig" style="color:#c9e9d3;">&#xF611;</a></li>-->
 			<li><a href="https://twitter.com/cboettig" target="_blank"><img src="images/Twitter.png" width="20" height="20"></a> </li>
 			<li><a href="http://www.carlboettiger.info/" target="_blank"><img src="images/Home.png" width="20" height="20"></a> </li>
 			<!--<li><a href="http://www.carlboettiger.info/"  src="images/home.png"</a></li>-->
		</ul></center><br>
 		<img src="images/photo_spacer2.png">	
 		</td>

 		<!-- Karthik -->
 		<td><img src="images/photo_spacer2.png">	</td>	
 		<td><img src="images/karthik84x84.png"><center>Karthik Ram<br>
 		<ul class="bubbles desktop only">
 			<!--<li class="ss-social-circle ss-icon"><a href="https://twitter.com/_inundata" style="color:#c9e9d3;">&#xF611;</a></li>
 			<li><a href="http://inundata.org/"  style="color:#c9e9d3;" class="ss-icon">&#x1F517;</a></li>-->
 			<li><a href="https://twitter.com/_inundata" target="_blank"><img src="images/Twitter.png" width="20" height="20"></a> </li>
 			<li><a href="http://inundata.org/" target="_blank"><img src="images/Home.png" width="20" height="20"></a> </li>
		</ul></center><br><img src="images/photo_spacer2.png">
		</td>

		<!-- Scott -->
 		<td><img src="images/photo_spacer2.png">	</td>	
 		<td><img src="images/scott84x84.png"><center>Scott Chamberlain<br>
 				<ul class="bubbles desktop only">
 			<!--<li class="ss-social-circle ss-icon"><a href="https://twitter.com/recology_" style="color:#c9e9d3;">&#xF611;</a></li>
 			<li><a href="http://schamberlain.GitHub.com/"  style="color:#c9e9d3;" class="ss-icon">&#x1F517;</a></li>-->
 			<li><a href="https://twitter.com/recology_" target="_blank"><img src="images/Twitter.png" width="20" height="20"></a> </li>
 			<li><a href="http://schamberlain.github.com/scott" target="_blank"><img src="images/Home.png" width="20" height="20"></a> </li>
		</ul></center><br><img src="images/photo_spacer2.png">
		</td> 		

		<!-- Ted -->
 		<td><img src="images/photo_spacer2.png">	</td>	
 		<td><img src="images/ted84x84.png"><center>Edmund Hart<br>
 				<ul class="bubbles desktop only">
 			<!--<li class="ss-social-circle ss-icon"><a href="https://twitter.com/recology_" style="color:#c9e9d3;">&#xF611;</a></li>
 			<li><a href="http://schamberlain.GitHub.com/"  style="color:#c9e9d3;" class="ss-icon">&#x1F517;</a></li>-->
 			<li><a href="https://twitter.com/distribecology" target="_blank"><img src="images/Twitter.png" width="20" height="20"></a> </li>
 			<li><a href="http://emhart.github.com/" target="_blank"><img src="images/Home.png" width="20" height="20"></a> </li>
		</ul></center><br><img src="images/photo_spacer2.png">
		</td> 		

 		</tr>
 	</table><br>
 	</div>
 <br><br>
 	<div>
	<h3><i class="ss-users"> Advisory team</i></h3>
 	<table>
 		<tr>
 		<!-- Duncan -->
         <td><img src="images/duncan84x84.png" height="84" width="84">
         	<center>Duncan Temple Lang</center>
         	<em><center>UC Davis</center></em><br>
			<center><ul class="bubbles desktop only">
 				<li><a href="http://www.omegahat.org/" target="_blank"><img src="images/Home.png" width="20" height="20"></a> </li>
			</ul></center>
		</td>

		<td><img src="images/photo_spacer2.png"></td>

		<!-- Hadley -->
        <td><img src="images/hadley84x84.png">
         	<center>Hadley Wickham</center>
         	<em><center>RStudio</center></em><br>
         	<ul class="bubbles desktop only">
 				<li><a href="https://twitter.com/hadleywickham" target="_blank"><img src="images/Twitter.png" width="20" height="20"></a> </li>
 				<li><a href="http://had.co.nz/" target="_blank"><img src="images/Home.png" width="20" height="20"></a> </li>
			</ul>
		</td>

		<td><img src="images/photo_spacer2.png"></td>

		<!--J.J.-->	
		<td><img src="images/jjallaire.jpeg" height="80" width="80">
			<center>JJ Allaire</center>
			<em><center>RStudio</center></em><br>
			<ul class="bubbles desktop only">
 		 <!--<li><a href="http://rstudio.org/"  style="color:#c9e9d3;" class="ss-icon">&#x1F517;</a></li>-->
 		 <li><a href="http://rstudio.org/" target="_blank"><img src="images/Home.png" width="20" height="20"></a> </li>
		</ul></td>
			<br>
		</td>

		<td><img src="images/photo_spacer2.png"></td>

		<!-- Bertram -->
         <td><img src="images/bertram84x84.png" height="84" width="84">
         	<center>Bertram <br>Ludascher</center>
         	<em><center>UC Davis</center></em>
         <ul class="bubbles desktop only">
 		 <!--<li><a href="http://daks.ucdavis.edu/"  style="color:#c9e9d3;" class="ss-icon">&#x1F517;</a></li>-->
 		 <li><a href="http://daks.ucdavis.edu/" target="_blank"><img src="images/Home.png" width="20" height="20"></a> </li>
		</ul></td>

		<td><img src="images/photo_spacer2.png">	</td>	

		<!-- Matt  -->
         <td><img src="images/matt84x84.png">
         	<center>Matt Jones</center>
         	<em><center>DataONE/NCEAS</center></em><br>
         	<center><ul class="bubbles desktop only">
 			<li><a href="http://www.nceas.ucsb.edu/~jones/" target="_blank"><img src="images/Home.png" width="20" height="20"></a> </li>
			</ul></center>
        <br></td>
		</tr>
 		</table>
 		</div>		
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="ropensci_collabs">
	<div>
		<h2>But many people contribute:</h2>
		<img src="images/github_collabs2.png" height="650">
	</div>	
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="pks_site">
	<br><br>
	<div>
		<h2>rOpenSci packages</h2>
		<h3><a href="http://ropensci.org/packages/index.html">http://ropensci.org/packages/index.html</a></h3>
		<a href="http://ropensci.org/packages/index.html" target="_blank"><img src="images/ropensci_pkgs.png" width="800" height="400"></a>
	</div>	
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="pks_github">
	<br><br>
	<div>
		<h2>rOpenSci packages</h2>
		<h3><a href="https://github.com/ropensci">https://github.com/ropensci</a></h3>
		<a href="https://github.com/ropensci" target="_blank"><img src="images/ropensci_pkgs_github.png" width="800" height="700"></a>
	</div>	
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="otherstoo">
	<br><br>
	<div>
		<table width="1000" border="1" cellspacing="100"> 
			<h2>Others have R pkgs to get data</h2>
			<tr>
				<td><a href="http://cran.r-project.org/web/packages/NCBI2R/index.html" target="_blank"><img src="images/ncbi.png" width="100" height="100"></a></td>
				<td><a href="http://cran.r-project.org/web/packages/Taxonstand/index.html" target="_blank"><img src="images/theplantlist.png" width="100" height="100"></a></td>
			</tr>
		</table>
	</div>	
	<br><br><br><br><br><br><br><br>

<section  class="slide deck-previous" id="others_next">
	<h2><center>But rOpenSci is a focused effort to build bridges to data via R</center></h2>
</section>	
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="r_web_data">
	<br><br>
	<h2>Getting data from the web into R <i class="ss-key"></i></h2>
	<div>
		<ul>
			<li><h3>Web scraping html, xml, etc.</h3></li>
			<li><h3>Reading json, csv, txt, etc.</h3></li>
			<li><h3>Hitting an Application Programming Interface (API)</h3></li>
				<ul><li><h4>This is the preferred, and most common method we use</h4></li>
				<li><h4>Some require an API key, some do not</h4></li></ul>
		</ul>
	</div>	
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="r_api_keys">
	<br><br>
	<h2>Authentication: R and APIs - API keys</i></h2>
	<div>
	<p>API keys can be stored in a users<code>.Rprofile</code> file</p> 
	<a href="https://github.com/ropensci/rOpenSci/wiki/Installation-and-use-of-API-keys">Click here for help on <code>.Rprofile</code> files</a>
<br><br>
	<pre class="knitr"> 
<span class="functioncall">options</span><span class="keyword">(</span><span class="argument">MendeleyKey</span> <span class="argument">=</span> <span class="string">"uf5daib7wyil7ag5buc"</span><span class="keyword">)</span>
<span class="functioncall">options</span><span class="keyword">(</span><span class="argument">MendeleyPrivateKey</span> <span class="argument">=</span> <span class="string">"faj2os5dyd7jop2fok6"</span><span class="keyword">)</span>
<span class="functioncall">options</span><span class="keyword">(</span><span class="argument">PlosApiKey</span> <span class="argument">=</span> <span class="string">"ef3vip9yak7od3hud4g"</span><span class="keyword">)</span>
<span class="functioncall">options</span><span class="keyword">(</span><span class="argument">SpringerMetdataKey</span> <span class="argument">=</span> <span class="string">"ri9hi7woc6jax4vaf8w"</span><span class="keyword">)</span>
	</pre>

	<br><br><br><br><br><small>Note: These keys aren't real.</small>
	</div>	
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="doingit">
	<h2>A workflow</h2>
	<ul>
		<h2>Taxonomic Correction:</h2>
		<ul>
			<h3>Are our species names correct? Need higher taxonomy (e.g., family names)?</h3>
		</ul>
		<h2>Getting data:</h2>
		<ul>
			<h3>Occurrence record, Specimen records from museums, Citizen science data</h3>
		</ul>
		<h2>Sharing secondary data:</h2>
		<ul>
			<h3>Sharing data increases impact of your research</h3>
			<h3>And allows others to reuse (possibly you)</h3>
		</ul>
	</ul>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="letstax">
	<h1>Taxonomic correction</h1>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="taxize-plantminer">
<h2>Check species names - <code>pkg taxize w/ plantminer</code></h2>
<br>
<font size="2"><div class="source"><pre class="knitr r"><span class="functioncall">library</span>(taxize)

<span class="comment"># Using plantminer</span>
plants &lt;- <span class="functioncall">c</span>(<span class="string">"Myrcia lingua"</span>, <span class="string">"Myrcia bella"</span>, <span class="string">"Coffea arabica"</span>, <span class="string">"Bleh"</span>)
out &lt;- <span class="functioncall">plantminer</span>(plants)
</pre></div><div class="source"><pre class="knitr r">out[, !<span class="functioncall">names</span>(out) %<span class="keyword">in</span>% <span class="functioncall">c</span>(<span class="string">"author"</span>, <span class="string">"source"</span>, <span class="string">"source.id"</span>)]
</pre></div><div class="output"><pre class="knitr r">        fam  genus      sp   status confidence suggestion       database
1 Myrtaceae Myrcia  lingua       NA         NA         NA       Tropicos
2 Myrtaceae Myrcia   bella Accepted          H         NA The Plant List
3 Rubiaceae Coffea arabica Accepted          H         NA The Plant List
4        NA   Bleh      NA       NA         NA       Baea             NA
</pre></div></font>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="taxize-theplantlist">
<h2>Check species names - <code>taxize with theplantlist.org</code></h2>
<br>
<font size="2"><div class="source"><pre class="knitr r">
<span class="comment"># Using theplantlist.org</span>
splist &lt;- <span class="functioncall">c</span>(<span class="string">"Poa annua"</span>, <span class="string">"Platanus occidentalis"</span>, <span class="string">"Carex abrupta"</span>, <span class="string">"Arctostaphylos canescens"</span>, 
    <span class="string">"Ocimum basilicum"</span>, <span class="string">"Vicia faba"</span>, <span class="string">"Quercus kelloggii"</span>, <span class="string">"Lactuca serriola"</span>)
out2 &lt;- <span class="functioncall">tpl_search</span>(taxon = splist)
out2[, <span class="functioncall">names</span>(out2) %<span class="keyword">in</span>% <span class="functioncall">c</span>(<span class="string">"Genus"</span>, <span class="string">"Species"</span>, <span class="string">"New.Genus"</span>, <span class="string">"New.Species"</span>)]
</pre></div><div class="output"><pre class="knitr r">           Genus      Species      New.Genus  New.Species
1            Poa        annua            Poa        annua
2       Platanus occidentalis       Platanus occidentalis
3          Carex      abrupta          Carex      abrupta
4 Arctostaphylos    canescens Arctostaphylos    canescens
5         Ocimum    basilicum         Ocimum    basilicum
6          Vicia         faba          Vicia         faba
7        Quercus    kelloggii        Quercus    kelloggii
8        Lactuca     serriola        Lactuca     serriola
</pre></div></font>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="taxize-itis">
<h2>Taxonomic problems? - <code>taxize with ITIS</code></h2>
<br>
<font size="2">
	<div class="source"><pre class="knitr r"><span class="comment"># Using ITIS</span>
tsn &lt;- <span class="functioncall">get_tsn</span>(<span class="string">"Compositae"</span>)
<span class="functioncall">data.frame</span>(<span class="functioncall">getacceptednamesfromtsn</span>(tsn))
</pre></div><div class="output"><pre class="knitr r">  submittedTsn acceptedName acceptedTsn
1        35421   Asteraceae       35420
</pre></div>

<section  class="slide deck-previous" id="taxize_2">
<div class="source"><pre class="knitr r">
<span class="comment"># Get names downstream</span>
<span class="functioncall">itis_downstream</span>(tsns = 846509, downto = <span class="string">"Genus"</span>)
</pre></div><div class="output"><pre class="knitr r">    tsn parentName parentTsn   taxonName rankId rankName
1 11531                11530      Bangia    180    Genus
2 11540                11530    Porphyra    180    Genus
3 11577                11530 Porphyrella    180    Genus
4 11580                11530 Conchocelis    180    Genus
</pre></div>
</font>
</section>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="taxize-attach-names">
<h2>Get higher taxonomy names - <code>taxize</code></h2>
<br>
<font size="2"><div class="source"><pre class="knitr r">
<span class="functioncall">library</span>(taxize)
species &lt;- <span class="functioncall">c</span>(<span class="string">"Poa annua"</span>, <span class="string">"Abies procera"</span>, <span class="string">"Helianthus annuus"</span>, <span class="string">"Coffea arabica"</span>)
famnames &lt;- <span class="functioncall">sapply</span>(species, tax_name, get = <span class="string">"family"</span>, db = <span class="string">"ncbi"</span>, USE.NAMES = F)
<span class="functioncall">data.frame</span>(species = species, family = famnames)
</pre></div>

<section  class="slide deck-previous" id="taxize_2">
<div class="output"><pre class="knitr r">            species     family
1         Poa annua    Poaceae
2     Abies procera   Pinaceae
3 Helianthus annuus Asteraceae
4    Coffea arabica  Rubiaceae
</pre></div></font>
</section>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="letsdata">
	<h1>Getting data</h1>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="rgbif_shiny">
<h1><a href="http://glimmer.rstudio.com/ropensci/rgbif2/" target="_blank"><code>rgbif demo</code></a><br></h1>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="rgbif">
<h2>Mapping biodiversity data - <code>pkg rgbif</code></h2>
<br>
	<font size="2"><div class="source"><pre class="knitr r">
<span class="functioncall">library</span>(rgbif)
splist &lt;- <span class="functioncall">c</span>(<span class="string">"Accipiter erythronemius"</span>, <span class="string">"Junco hyemalis"</span>, <span class="string">"Aix sponsa"</span>)
out &lt;- <span class="functioncall">lapply</span>(splist, <span class="functioncall"><span class="keyword">function</span></span>(x) <span class="functioncall">occurrencelist</span>(x, coordinatestatus = T, maxresults = 50))
<span class="functioncall">gbifmap</span>(out)
</pre></div></font>

<section  class="slide deck-previous" id="rgbif_2">
	<div class="rimage default"><img src="images/rgbif.png" title="plot of chunk rgbif" alt="plot of chunk rgbif" class="plot" /></div>	
</section>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="rvertnet_shiny">
<h1><a href="http://glimmer.rstudio.com/ropensci/rvertnet2/" target="_blank"><code>rvertnet demo</code></a><br></h1>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="rvertnet">
<h2>Vertebrate specimens - <a href="http://vertnet.org/">VertNet.org</a> - <code>rvertnet</code></h2>
	<br>
	<font size="2"><div class="source"><pre class="knitr r"><span class="functioncall">library</span>(rvertnet)
out &lt;- <span class="functioncall">vertoccurrence</span>(t = <span class="string">"Oncorhynchus mykiss"</span>, grp = <span class="string">"fish"</span>, num = 300)
<span class="functioncall">vertmap</span>(input = out)
	</pre></div></font>

<section  class="slide deck-previous" id="rvertnet_1">
	<div class="rimage default"><img src="images/rvertnet.png" title="plot of chunk rvertnet" alt="plot of chunk rvertnet" class="plot" />
		</section>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="rfishbase">
<h2><a href="http://www.fishbase.org/">Fishbase.org</a> - <code>pkg rfishbase</code></h2>
	<font size="1.5">
<div class="chunk"><div class="rcode"><div class="source"><pre class="knitr r">
<span class="functioncall">library</span>(rfishbase)
<span class="functioncall">library</span>(ggplot2)
<span class="functioncall">loadCache</span>()
reef &lt;- <span class="functioncall">which_fish</span>(<span class="string">"reef"</span>, <span class="string">"habitat"</span>, fish.data)

...code <a href="https://gist.github.com/4327186" target="_blank">here</a>

<span class="functioncall">ggplot</span>(primary_orders, <span class="functioncall">aes</span>(order, fill = marine)) + <span class="functioncall">geom_bar</span>() + # a few commands to customize appearance
<span class="functioncall">geom_bar</span>(colour = <span class="string">"black"</span>, show_guide = <span class="keyword">FALSE</span>) + <span class="functioncall">theme_bw</span>(base_size = 16) + 
    <span class="functioncall">theme</span>(axis.text.x = <span class="functioncall">element_text</span>(angle = 45, hjust = 1, size = 12), legend.title = <span class="functioncall">element_blank</span>(), 
          legend.justification = <span class="functioncall">c</span>(1, 0), legend.position = <span class="functioncall">c</span>(0.9, 0.6)) + 
    <span class="functioncall">scale_fill_grey</span>(labels = <span class="functioncall">c</span>(<span class="string">"Marine"</span>, 
    <span class="string">"Non-marine"</span>)) + 
    <span class="functioncall">labs</span>(x=<span class="string">""</span>,y=<span class="string">"Number of species"</span>)
</pre></div></div></div>
	</font>

<section  class="slide deck-previous" id="rfishbase_2">
	<div class="rimage default"><img src="images/rfishbase.png" title="plot of chunk rfishbase" alt="plot of chunk rfishbase" class="plot" />
</section>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="rfisheries">
<h2><a href="http://openfisheries.org/">Openfisheries.org</a> - <code>pkg rfisheries</code></h2>
	<font size="1.5">
<div class="source"><pre class="knitr r"><span class="functioncall">library</span>(rfisheries); <span class="functioncall">library</span>(ggplot2)
countries &lt;- <span class="functioncall">country_codes</span>()

<span class="comment"># let's take a small subset, say 5 random countries</span>
c_list &lt;- countries[<span class="functioncall">sample</span>(<span class="functioncall">nrow</span>(countries), 5), ]$iso3c

<span class="comment"># and grab landings data <span class="keyword">for</span> these countries</span>
results &lt;- <span class="functioncall">ldply</span>(c_list, <span class="functioncall"><span class="keyword">function</span></span>(x) {
    df &lt;- <span class="functioncall">landings</span>(country = x)
    df$country &lt;- x
    df
}, .progress = <span class="string">"text"</span>)

<span class="functioncall">ggplot</span>(results, <span class="functioncall">aes</span>(year, catch, group = country, color = country)) + <span class="functioncall">geom_line</span>()
</pre></div>
	</font>
<section  class="slide deck-previous" id="rgbif_2">
	<div class="rimage default"><img src="images/rfisheries.png" title="plot of chunk rfisheries" alt="plot of chunk rfisheries" class="plot" />
</section>
</section>


<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="treebase">
<h2>Get phylogenies <a href="http://treebase.org/">Treebase.org</a> - <code>pkg treebase</code></h2>
	<font size="2">
		<div class="source"><pre class="knitr r"><span class="functioncall">library</span>(treebase); <span class="functioncall">library</span>(ggplot2); <span class="functioncall">library</span>(reshape2)

<span class="functioncall">data</span>(treebase)
have &lt;- <span class="functioncall">have_branchlength</span>(treebase)
branchlengths &lt;- treebase[have]
dat &lt;- <span class="functioncall">data.frame</span>(tips = <span class="functioncall">sapply</span>(branchlengths, Ntip), nodes = <span class="functioncall">sapply</span>(branchlengths, Nnode))
dat_m &lt;- <span class="functioncall">melt</span>(dat)
</pre></div>
<div class="source"><pre class="knitr r">
<span class="functioncall">ggplot</span>(dat_m[dat_m$value &lt; 1000, ], <span class="functioncall">aes</span>(value, fill = variable)) + <span class="functioncall">theme_bw</span>(base_size = 20) + 
    <span class="functioncall">geom_density</span>()</pre></div>
    </font>

<section  class="slide deck-previous" id="others_next">
	<div class="rimage default"><img src="images/treebase3.png" title="plot of chunk treebase" alt="plot of chunk treebase" class="plot" />
</section>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="letsshare">
	<h1>Sharing data</h1>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="rfigshare">
	<br><br>
	<h2>Sharing and using data - <code>pkg rfigshare</code></h2>
	<div>
	<h3 class="figshare">Using Figshare's new <a href="http://api.figshare.com/docs/">API</a>, it is now possible to share figures, data, and any other object generated in <code>R</code> directly to one's figshare account. After authenticating: </h3><br>
	
	<font size="2"><div class="source"><pre class="knitr r"><span class="functioncall">library</span>(rfigshare)

<span class="comment"># Try creating your own content:</span>
id &lt;- <span class="functioncall">fs_new_article</span>(title = <span class="string">"A Test of rfigshare"</span>, description = <span class="string">"testing"</span>, 
    type = <span class="string">"figure"</span>, authors = <span class="string">"Scott Chamberlain"</span>, tags = <span class="functioncall">c</span>(<span class="string">"ecology"</span>, <span class="string">"openscience"</span>), 
    categories = <span class="string">"Ecology"</span>, links = <span class="string">"http://ropensci.org"</span>, files = <span class="string">"figure/rvertnet.png"</span>)</div></font>
	</div>
</section>

<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="rfigshare-walla">
<h2>Sharing and using data - <code>pkg rfigshare</code></h2>
	<img src="images/figshare_test.png"></a>
</section>


<!--    ##############    slide delimiter  ##############    -->
<section class="slide" id="rfigshare-video">
<h2>Sharing and using data - <code>(rfigshare)</code></h2>
<a href="http://figshare.com/articles/automatic_analysis_and_publishing_of_data/100998" target="_blank"><img src="images/figshare_video_shot.png"></a></a>
</section>


<!--    ##############    tutorials  ##############    -->
<section class="slide" id="tutorials2">
	<div>
	<h2>rOpenSci tutorials</h2>
		<a href="http://ropensci.org/tutorials/" target="_blank"><img src="images/ropensci_tutorials.png"></a>
	</div>
</section>

<!--    ##############    closing slide  ##############    -->
<section class="slide" id="outro">
	<div>
	<h1><a href="http://ropensci.org/" target="_blank">ropensci.org</a></h1>
	<br>
		<h3>Please contact us if you have feedback or ideas for collaborations!</h3> <br><br>
		<h3>Code open-sourced on <a href="http://github.com/ropensci" target="_blank">GitHub</a></h3> 
		<h3>Elsewhere <a href="http://twitter.com/ropensci" target="_blank">@ropensci</a> and <a href="http://gplus.to/ropensci" target="_blank">G+</a></h3>
		<br>
		<h3>And I'm <a href="http://twitter.com/recology_" target="_blank">@recology_</a></h3>
	</div>
</section>

<!-- ============================================================================= -->
<!-- ====      END PRESENTATION  ==== -->
<!-- Everything below can be ignored (just js libraries) -->
<!-- ============================================================================= -->



















<!-- deck.navigation snippet -->
<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
<a href="#" class="deck-next-link" title="Next">&#8594;</a>

<!-- deck.status snippet -->
<p class="deck-status">
	<span class="deck-status-current"></span>
	/
	<span class="deck-status-total"></span>
</p>

<!-- deck.goto snippet -->
<form action="." method="get" class="goto-form">
	<label for="goto-slide">Go to slide:</label>
	<input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
	<datalist id="goto-datalist"></datalist>
	<input type="submit" value="Go">
</form>

<!-- deck.hash snippet -->
<a href="." title="Permalink to this slide" class="deck-permalink">#</a>


<!-- Grab CDN jQuery, with a protocol relative URL; fall back to local if offline -->
<script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
<script>window.jQuery || document.write('<script src="jquery-1.7.min.js"><\/script>')</script>

<!-- Deck Core and extensions -->
<script src="core/deck.core.js"></script>
<script src="extensions/hash/deck.hash.js"></script>
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/blank/deck.blank.js"></script>

<!-- Initialize the deck -->
<script>
$(function() {
	$.deck('.slide');
});
</script>
</body>
</html>